<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fetch Method()</title>
    <link rel="stylesheet" href="../JsonFiles/json.css">
</head>
<body>
    <center>
        <ul>
            <h1>
                Fetch Method
            </h1>
        </ul>
    </center>

    <h2>
        <ol>
            <li>fetch method() is an ES6 feature which returns a promise after getting Data
                from server / Network 
            </li><br/>
            <li>fetch is an Asynchronous function which send request to http url it promises and takes sometime
                to give the data.
            </li><br/>
            <li>
                To resolve and populated the Data it uses .then(res) to receive the Data and response
                and with.json() it will conver the Data from json to JS, in second .then(data) is ready
                to proceed further to print the output. 
            </li>
        </ol>
    </h2>

    <main>
        <div class="container">
            <!-- <div class="card">
                <div class="info">
                    <div id="img-div">
                        <img src="" alt="">
                    </div>
                    <div id="product-info">
                        <h3>
                            <p id="prod-cat">category</p>
                            <p id="prod-name">product</p>
                        </h3>
                    </div>
                </div>
            </div> -->
        </div>
     </main>

    <script>

        
        let myUrl = 'http://localhost:1200/Ecommerce';
        
        fetch(myUrl)
        .then((dataFromJson =>{
            return dataFromJson.json();/*Json converted to JS Obj*/
        }))
        .then((nowJSdata)=>{ /*rcvd as JS Objcts*/
            nowJSdata.map((JSData=>{ /*iterating the array with .map()*/
                return JSData
            }))
            console.log(nowJSdata[2].product); /*got the Array of Obj and picking up the Index 2 value*/ 
        })
        .catch((er=>{ /*Any Problem with Server we'll catch Error by .catch()*/
            console.warn(`${er} Not Found http://localhost:1200/Ecommerce`);
        }));





        // .catch(function (error) {
        //     console.warn(error);
        // });
        

        // let myData = ()=>{
        //     fetch('http://localhost:3000/Ecommerce')
        //     .then((response)=> response.json())
        //     .then((data) => console.log(data))
        //     .catch((error)=> console.log(error))
            
        // }
        // myData()

        // fetch('http://localhost:3000/Ecommerce')
        // .then(resrcvd =>{ return resrcvd.json()})
        // .then(datapromised =>{ console.log(datapromised)})
        // .catch(error =>{console.log(error)})


        // fetch('learning Fetch')
        // .then((responseFetched)=>{
        //     return responseFetched.text()
        // })
        // .then((datafrmRes)=>{
        //     console.log(datafrmRes)
        // });

    </script>
</body>
</html>